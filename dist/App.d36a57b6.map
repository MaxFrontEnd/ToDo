{"version":3,"sources":["readFromJsonServer.js","addToJsonServer.js","removeFromJsonServer.js","App.js"],"names":["URL","getDataFromJson","Promise","resolve","reject","xhr","XMLHttpRequest","open","onload","readyState","status","responseText","statusText","onerror","console","log","send","data","setDataToJson","setRequestHeader","onreadystatechange","DONE","err","JSON","stringify","removeDatafromJson","Li","id","title","element","document","createElement","innerHTML","classList","onclick","contains","remove","deleteButton","parentNode","removeFromList","list","appendChild","prototype","addButton","addLi","arrOfElements","ol","querySelector","forEach","value","index","li","combineURL","displayTasks","then","fullResponse","parse","catch","error","addEventListener","ClickOnButton","inputText","obj","isDone","text","location","reload"],"mappings":"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","file":"App.d36a57b6.map","sourceRoot":"..\\src","sourcesContent":["// get data from Json-server function\r\nconst URL = \"http://localhost:3000/todos\";\r\n\r\nvar getDataFromJson = function(URL) {\r\n  return new Promise(function(resolve, reject) {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(\"GET\", URL);\r\n    xhr.onload = function() {\r\n      if (xhr.readyState === 4) {\r\n        if (xhr.status === 200) {\r\n          resolve(xhr.responseText);\r\n        } else {\r\n          reject(xhr.statusText);\r\n        }\r\n      }\r\n      xhr.onerror = function() {\r\n        console.log(xhr.statusText);\r\n      };\r\n    };\r\n    xhr.send();\r\n  });\r\n};\r\n\r\nvar data = getDataFromJson(URL);\r\n\r\nexport default data;\r\n","var setDataToJson = function(URL, data) {\r\n  return new Promise(function(resolve, reject) {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(\"POST\", URL);\r\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n    xhr.onreadystatechange = function() {\r\n      if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 201) {\r\n        console.log(XMLHttpRequest.DONE);\r\n        console.log(xhr.status);\r\n        resolve(\"new item added\");\r\n      } else {\r\n        xhr.onerror = function(err) {\r\n          reject(err);\r\n        };\r\n      }\r\n      xhr.onerror = function(err) {\r\n        console.log(err);\r\n      };\r\n    };\r\n    xhr.send(JSON.stringify(data));\r\n  });\r\n};\r\nexport default setDataToJson;\r\n","var removeDatafromJson = function(URL) {\r\n  return new Promise(function(resolve, reject) {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(\"DELETE\", URL);\r\n    xhr.onreadystatechange = function() {\r\n      if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 201) {\r\n        console.log(XMLHttpRequest.DONE);\r\n        console.log(xhr.status);\r\n        resolve(\"item deleted\");\r\n      } else {\r\n        xhr.onerror = function(err) {\r\n          reject(err);\r\n        };\r\n      }\r\n      xhr.onerror = function(err) {\r\n        console.log(err);\r\n      };\r\n    };\r\n    xhr.send();\r\n  });\r\n};\r\nexport default removeDatafromJson;\r\n","const URL = \"http://localhost:3000/todos\";\r\nimport data from \"./readFromJsonServer\";\r\nimport sendData from \"./addToJsonServer\";\r\nimport deleteData from \"./removeFromJsonServer\";\r\n\r\nvar Li = function(id, title) {\r\n  this.id = id;\r\n  this.title = title;\r\n  var element = document.createElement(\"li\");\r\n  element.id = this.id;\r\n  element.innerHTML = this.title;\r\n  element.classList = \"li\";\r\n  element.onclick = function() {\r\n    element.classList.contains(\"li-done\")\r\n      ? element.classList.remove(\"li-done\")\r\n      : (element.classList = \"li-done\");\r\n  };\r\n  // button add to every list\r\n  var deleteButton = document.createElement(\"button\");\r\n  deleteButton.innerHTML = \"Delete\";\r\n  deleteButton.onclick = function() {\r\n    console.log(this.parentNode.id);\r\n    removeFromList(this.parentNode.id);\r\n    var list = this.parentNode;\r\n    list.remove();\r\n  };\r\n  deleteButton.classList = \"list-button\";\r\n  element.appendChild(deleteButton);\r\n  return element;\r\n};\r\n\r\nLi.prototype.addButton = function() {};\r\n// Ad a new list item\r\nfunction addLi(arrOfElements) {\r\n  var ol = document.querySelector(\".list\");\r\n  arrOfElements.forEach(function(value, index) {\r\n    // List element\r\n    var [id, title] = [arrOfElements[index].id, arrOfElements[index].title];\r\n    var li = new Li(id, title);\r\n    //console.log(li);\r\n    ol.appendChild(li);\r\n  });\r\n}\r\n\r\n// Remove from li from list\r\nfunction removeFromList(id) {\r\n  var combineURL = URL + \"/\" + id;\r\n  deleteData(combineURL);\r\n}\r\n\r\n//Get data from server and display it\r\nfunction displayTasks(data) {\r\n  data\r\n    .then(function(fullResponse) {\r\n      addLi(JSON.parse(fullResponse));\r\n      //console.log(resp);\r\n    })\r\n    .catch(function(error) {\r\n      console.log(error);\r\n    });\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", displayTasks(data));\r\n\r\n//Add new toDo button\r\nvar addButton = document.querySelector(\".button\");\r\naddButton.onclick = function ClickOnButton() {\r\n  var inputText = document.querySelector(\".input\").value;\r\n  var obj = { title: inputText, isDone: false };\r\n  if (inputText) {\r\n    sendData(URL, obj).then(function(text) {\r\n      console.log(text);\r\n      //reload a page after new element li was added\r\n      document.location.reload(true);\r\n    });\r\n  } else {\r\n    console.log(\"You need to enter something\");\r\n  }\r\n};\r\n"]}