{"version":3,"sources":["readFromJsonServer.js","addToJsonServer.js","removeFromJsonServer.js","App.js"],"names":["URL","getDataFromJson","Promise","resolve","reject","xhr","XMLHttpRequest","open","onload","readyState","status","responseText","statusText","onerror","console","log","send","data","setDataToJson","setRequestHeader","onreadystatechange","DONE","err","JSON","stringify","removeDatafromJson","addLi","arrOfElements","list","document","querySelector","forEach","value","index","element","createElement","deleteButton","classList","id","innerHTML","title","appendChild","onclick","contains","remove","parentNode","removeFromList","li","combineURL","displayTasks","then","fullResponse","parse","catch","error","addEventListener","addButton","ClickOnButton","inputText","obj","isDone","text","location","reload"],"mappings":"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","file":"App.d36a57b6.map","sourceRoot":"..\\src","sourcesContent":["// get data from Json-server function\r\nconst URL = \"http://localhost:3000/todos\";\r\n\r\nvar getDataFromJson = function(URL) {\r\n  return new Promise(function(resolve, reject) {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(\"GET\", URL);\r\n    xhr.onload = function() {\r\n      if (xhr.readyState === 4) {\r\n        if (xhr.status === 200) {\r\n          resolve(xhr.responseText);\r\n        } else {\r\n          reject(xhr.statusText);\r\n        }\r\n      }\r\n      xhr.onerror = function() {\r\n        console.log(xhr.statusText);\r\n      };\r\n    };\r\n    xhr.send();\r\n  });\r\n};\r\n\r\nvar data = getDataFromJson(URL);\r\n\r\nexport default data;\r\n","var setDataToJson = function(URL, data) {\r\n  return new Promise(function(resolve, reject) {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(\"POST\", URL);\r\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n    xhr.onreadystatechange = function() {\r\n      if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 201) {\r\n        console.log(XMLHttpRequest.DONE);\r\n        console.log(xhr.status);\r\n        resolve(\"new item added\");\r\n      } else {\r\n        xhr.onerror = function(err) {\r\n          reject(err);\r\n        };\r\n      }\r\n      xhr.onerror = function(err) {\r\n        console.log(err);\r\n      };\r\n    };\r\n    xhr.send(JSON.stringify(data));\r\n  });\r\n};\r\nexport default setDataToJson;\r\n","var removeDatafromJson = function(URL) {\r\n  return new Promise(function(resolve, reject) {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(\"DELETE\", URL);\r\n    xhr.onreadystatechange = function() {\r\n      if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 201) {\r\n        console.log(XMLHttpRequest.DONE);\r\n        console.log(xhr.status);\r\n        resolve(\"item deleted\");\r\n      } else {\r\n        xhr.onerror = function(err) {\r\n          reject(err);\r\n        };\r\n      }\r\n      xhr.onerror = function(err) {\r\n        console.log(err);\r\n      };\r\n    };\r\n    xhr.send();\r\n  });\r\n};\r\nexport default removeDatafromJson;\r\n","const URL = \"http://localhost:3000/todos\";\r\nimport data from \"./readFromJsonServer\";\r\nimport sendData from \"./addToJsonServer\";\r\nimport deleteData from \"./removeFromJsonServer\";\r\n\r\n// Ad a new list item\r\nfunction addLi(arrOfElements) {\r\n  var list = document.querySelector(\".list\");\r\n  arrOfElements.forEach(function(value, index) {\r\n    // List element\r\n    var element = document.createElement(\"li\");\r\n    var deleteButton = document.createElement(\"button\");\r\n    element.classList = \"li\";\r\n    element.id = arrOfElements[index].id;\r\n    element.innerHTML = arrOfElements[index].title;\r\n    element.appendChild(deleteButton);\r\n    element.onclick = function() {\r\n      element.classList.contains(\"li-done\")\r\n        ? element.classList.remove(\"li-done\")\r\n        : (element.classList = \"li-done\");\r\n    };\r\n    //Button element\r\n    deleteButton.innerHTML = \"Delete\";\r\n    deleteButton.onclick = function() {\r\n      console.log(this.parentNode.id);\r\n      removeFromList(this.parentNode.id);\r\n      var li = this.parentNode;\r\n      li.remove();\r\n    };\r\n    deleteButton.classList = \"list-button\";\r\n\r\n    list.appendChild(element);\r\n  });\r\n}\r\n\r\n// Remove from li from list\r\nfunction removeFromList(id) {\r\n  var combineURL = URL + \"/\" + id;\r\n  deleteData(combineURL);\r\n}\r\n\r\n//Get data from server and display it\r\nfunction displayTasks(data) {\r\n  data\r\n    .then(function(fullResponse) {\r\n      addLi(JSON.parse(fullResponse));\r\n      //console.log(resp);\r\n    })\r\n    .catch(function(error) {\r\n      console.log(error);\r\n    });\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", displayTasks(data));\r\n\r\n//Add new toDo button\r\nvar addButton = document.querySelector(\".button\");\r\naddButton.onclick = function ClickOnButton() {\r\n  var inputText = document.querySelector(\".input\").value;\r\n  var obj = { title: inputText, isDone: false };\r\n  sendData(URL, obj).then(function(text) {\r\n    console.log(text);\r\n    //reload a page after new element li was added\r\n    document.location.reload(true);\r\n  });\r\n};\r\n"]}