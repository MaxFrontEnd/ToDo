{"version":3,"sources":["requests.js","updateJsonServer.js","removeFromList.js","App.js"],"names":["URL","getDataFromJson","Promise","resolve","reject","xhr","XMLHttpRequest","open","onload","e","readyState","status","responseText","statusText","onerror","console","log","send","data","setDataToJson","setRequestHeader","onreadystatechange","DONE","err","JSON","stringify","removeDatafromJson","addLi","arrOfElements","list","document","querySelector","forEach","value","index","element","createElement","classList","id","deleteButton","innerHTML","onclick","parentNode","removeFromList","li","remove","title","appendChild","combineURL","displayTasks","then","fullResponse","parse","catch","error","checkToDo","addEventListener","addButton","ClickOnButton","inputText","obj","isDone","text","location","reload"],"mappings":"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","file":"App.d36a57b6.map","sourceRoot":"..\\src","sourcesContent":["// get data from Json-server function\r\nconst URL = \"http://localhost:3000/todos\";\r\n\r\nvar getDataFromJson = function(URL) {\r\n  return new Promise(function(resolve, reject) {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(\"GET\", URL);\r\n    xhr.onload = function(e) {\r\n      if (xhr.readyState === 4) {\r\n        if (xhr.status === 200) {\r\n          resolve(xhr.responseText);\r\n        } else {\r\n          reject(xhr.statusText);\r\n        }\r\n      }\r\n      xhr.onerror = function(e) {\r\n        console.log(xhr.statusText);\r\n      };\r\n    };\r\n    xhr.send();\r\n  });\r\n};\r\n\r\nvar data = getDataFromJson(URL);\r\n\r\nexport default data;\r\n","var setDataToJson = function(URL, data) {\r\n  return new Promise(function(resolve, reject) {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(\"POST\", URL);\r\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n    xhr.onreadystatechange = function() {\r\n      if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 201) {\r\n        console.log(XMLHttpRequest.DONE);\r\n        console.log(xhr.status);\r\n        resolve(\"new item added\");\r\n      } else {\r\n        xhr.onerror = function(err) {\r\n          reject(err);\r\n        };\r\n      }\r\n      xhr.onerror = function(err) {\r\n        console.log(err);\r\n      };\r\n    };\r\n    xhr.send(JSON.stringify(data));\r\n  });\r\n};\r\nexport default setDataToJson;\r\n","var removeDatafromJson = function(URL) {\r\n  return new Promise(function(resolve, reject) {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(\"DELETE\", URL);\r\n    xhr.onreadystatechange = function() {\r\n      if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 201) {\r\n        console.log(XMLHttpRequest.DONE);\r\n        console.log(xhr.status);\r\n        resolve(\"item deleted\");\r\n      } else {\r\n        xhr.onerror = function(err) {\r\n          reject(err);\r\n        };\r\n      }\r\n      xhr.onerror = function(err) {\r\n        console.log(err);\r\n      };\r\n    };\r\n    xhr.send();\r\n  });\r\n};\r\nexport default removeDatafromJson;\r\n","const URL = \"http://localhost:3000/todos\";\r\nimport data from \"./requests\";\r\nimport sendData from \"./updateJsonServer\";\r\nimport deleteData from \"./removeFromList\";\r\n\r\n// Ad a new list item\r\nfunction addLi(arrOfElements) {\r\n  var list = document.querySelector(\".list\");\r\n  arrOfElements.forEach(function(value, index) {\r\n    var element = document.createElement(\"li\");\r\n    element.classList = \"li\";\r\n    element.id = arrOfElements[index].id;\r\n    var deleteButton = document.createElement(\"button\");\r\n    deleteButton.innerHTML = \"Delete\";\r\n    deleteButton.onclick = function() {\r\n      console.log(this.parentNode.id);\r\n      removeFromList(this.parentNode.id);\r\n      var li = this.parentNode;\r\n      li.remove();\r\n    };\r\n    deleteButton.classList = \"list-button\";\r\n    element.innerHTML = arrOfElements[index].title;\r\n    element.appendChild(deleteButton);\r\n    list.appendChild(element);\r\n  });\r\n}\r\n\r\n// Remove from li from list\r\nfunction removeFromList(id) {\r\n  var combineURL = URL + \"/\" + id;\r\n  deleteData(combineURL);\r\n}\r\n//Get data from server and display it\r\nfunction displayTasks(data) {\r\n  data\r\n    .then(function(fullResponse) {\r\n      addLi(JSON.parse(fullResponse));\r\n      //console.log(resp);\r\n    })\r\n    .catch(function(error) {\r\n      console.log(error);\r\n    });\r\n}\r\n\r\nfunction checkToDo() {}\r\ndocument.addEventListener(\"DOMContentLoaded\", displayTasks(data));\r\n\r\nvar addButton = document.querySelector(\".button\");\r\naddButton.onclick = function ClickOnButton() {\r\n  var inputText = document.querySelector(\".input\").value;\r\n  var obj = { title: inputText, isDone: false };\r\n  sendData(URL, obj).then(function(text) {\r\n    console.log(text);\r\n    //reload a page after new element li was added\r\n    document.location.reload(true);\r\n  });\r\n};\r\n"]}